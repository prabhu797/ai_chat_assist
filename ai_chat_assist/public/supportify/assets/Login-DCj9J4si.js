var w=Object.defineProperty,j=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var f=(a,e,t)=>e in a?w(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,m=(a,e)=>{for(var t in e||(e={}))y.call(e,t)&&f(a,t,e[t]);if(h)for(var t of h(e))E.call(e,t)&&f(a,t,e[t]);return a},c=(a,e)=>j(a,b(e));var g=(a,e,t)=>new Promise((n,i)=>{var l=r=>{try{s(t.next(r))}catch(u){i(u)}},d=r=>{try{s(t.throw(r))}catch(u){i(u)}},s=r=>r.done?n(r.value):Promise.resolve(r.value).then(l,d);s((t=t.apply(a,e)).next())});import{q as B,r as x,X as C,s as p,j as o}from"./index-Bf9l0LPL.js";import{f as L,T as S,h as T}from"./Button-B-vxSuKm.js";import{P as W}from"./Menu-BKUiai6B.js";import{T as v}from"./TextField-BkdmVQtK.js";const X=()=>{const a=B(),[e,t]=x.useState({email:"",password:""}),{login:n,currentUser:i,getUserCookie:l}=C();p.set(l),x.useEffect(()=>{const s=r=>{p.get("user_id")!=="Guest"&&a("/dashboard")};return p.get("user_id")!=="Guest"&&a("/dashboard"),window.addEventListener("popstate",s),()=>{window.removeEventListener("popstate",s)}},[a]);const d=s=>g(void 0,null,function*(){s.preventDefault(),n({username:e.email,password:e.password}).then(r=>{console.log(r.message),a("/dashboard")}).catch(r=>{console.log(r)})});return o.jsx(L,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:"100vh",bgcolor:"#f5f5f5",children:o.jsxs(W,{elevation:3,sx:{p:4,maxWidth:400,width:"100%",mx:2},children:[o.jsx(S,{variant:"h5",align:"center",gutterBottom:!0,children:"Supportify"}),o.jsxs("form",{onSubmit:d,children:[o.jsx(v,{fullWidth:!0,label:"Email",margin:"normal",value:e.email,onChange:s=>t(c(m({},e),{email:s.target.value}))}),o.jsx(v,{fullWidth:!0,label:"Password",type:"password",margin:"normal",value:e.password,onChange:s=>t(c(m({},e),{password:s.target.value}))}),o.jsx(T,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",sx:{mt:2},children:"Login"}),!1]})]})})};export{X as default};
